<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>calendar</title>
    <link rel="stylesheet" href="calendar.css">
    <link rel="icon" href="img/logo.png" type="image/x-icon" />
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <script type="text/javascript" src="/eel.js"></script>
</head>

<body onload="calc()">

    <div class="calendar">
        <div class="left-area">
            <div class="calendar-grid">
                <div class="day-card">
                    <div class="card-top-area">
                        <div class="circle">
                            <h3>M</h3>
                        </div>
                    </div>
                    <div class="card-container">
                        <div class="info morning">
                            <div class="first info-box" id="Monday-m-1">
                                <p>Ceng104</p>
                            </div>
                            <div class="second info-box" id="Monday-m-2">
                                <p>Ceng204</p>
                            </div>
                            <div class="third info-box" id="Monday-m-3">
                                <p>Ceng306</p>
                            </div>
                            <div class="fourth info-box" id="Monday-m-4">
                                <p>Ceng409</p>
                            </div>
                        </div>
                        <div class="divider"></div>
                        <div class="info afternoon"></div>
                    </div>
                </div>
                <div class="day-card">
                    <div class="card-top-area">
                        <div class="circle">
                            <h3>T</h3>
                        </div>
                    </div>
                    <div class="card-container">
                        <div class="info morning">
                            <div class="third info-box" id="Tuesday-m-1">
                                <p>Ceng306</p>
                            </div>
                            <div class="fourth info-box" id="Tuesday-m-2">
                                <p>Ceng409</p>
                            </div>
                        </div>
                        <div class="divider"></div>
                        <div class="info afternoon"></div>
                    </div>
                </div>
                <div class="day-card">
                    <div class="card-top-area">
                        <div class="circle">
                            <h3>W</h3>
                        </div>
                    </div>
                    <div class="card-container">
                        <div class="info morning">
                            <div class="first info-box" id="Wednesday-m-1">
                                <p>Ceng104</p>
                            </div>
                            <div class="third info-box" id="Wednesday-m-2">
                                <p>Ceng306</p>
                            </div>
                            <div class="fourth info-box" id="Wednesday-m-3">
                                <p>Ceng409</p>
                            </div>
                        </div>
                        <div class="divider"></div>
                        <div class="info afternoon"></div>
                    </div>
                </div>
                <div class="day-card">
                    <div class="card-top-area">
                        <div class="circle">
                            <h3>T</h3>
                        </div>
                    </div>
                    <div class="card-container">
                        <div class="info morning">
                            <div class="first info-box" id="Thursday-m-1">
                                <p>Ceng104</p>
                            </div>
                            <div class="second info-box" id="Thursday-m-2">
                                <p>Ceng204</p>
                            </div>
                        </div>
                        <div class="divider"></div>
                        <div class="info afternoon">
                            <div class="first info-box" id="Thursday-a-1">
                                <p>Ceng104</p>
                            </div>
                            <div class="fourth info-box" id="Thursday-a-2">
                                <p>Ceng409</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="day-card">
                    <div class="card-top-area">
                        <div class="circle">
                            <h3>F</h3>
                        </div>
                    </div>
                    <div class="card-container">
                        <div class="info morning">
                            <div class="first info-box" id="Friday-m-1">
                                <p>Ceng104</p>
                            </div>
                            <div class="fourth info-box" id="Friday-m-2">
                                <p>Ceng409</p>
                            </div>
                        </div>
                        <div class="divider"></div>
                        <div class="info afternoon"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="right-area">
            <div class="info-area">
                <div class="info-top-area">
                    <div class="rectangle">
                        <div class="info-line first">
                            <i class="fas fa-star"></i>
                            <h3>Ceng104</h3>
                        </div>
                    </div>
                </div>

                <div class="info-container first">
                    <div class="text-area">
                        <p>Ders İsmi:</p>
                        <p>Ders İsmi:</p>
                        <p>Ders İsmi:</p>
                        <p>Ders İsmi:</p>
                        <p>Ders İsmi:</p>

                        <div class="bottom">
                            <p>Good Lessons :)</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        eel.expose(parser)
        function parser(inp) {
            a = inp.split("\n");
            prevStr = "";
            count = 1;
            a.forEach(element => {
                htElement = "";
                b = element.split(";");
                htElement += b[0] + "-" + b[1];
                count = (prevStr == htElement) ? count + 1 : 1;
                htElement += "-" + count;
                prevStr = b[0] + "-" + b[1];
                x = document.getElementById(htElement)
                if (x != null)
                    x.textContent = b[3];
                    /*
                if (x != null){
                    x.textContent = b[3];
                    semester = null;
                    if(b[3].matches("1[0-9]{2}"))
                        semester = 1;
                    else if(b[3].matches("2[0-9]{2}"))
                        semester = 2;
                    else if(b[3].matches("3[0-9]{2}"))
                        semester = 3;
                    else if(b[3].matches("4[0-9]{2}"))
                        semester = 4;
                    console.log(semester);
                }*/

            })

        }
        function calc() {
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const course = urlParams.get('course');
            const busy = urlParams.get('busy');
            const classroom = urlParams.get('classroom');
            const service = urlParams.get('service');
            eel.calculate(course, busy, classroom, service);
        }
    </script>

</body>

</html>